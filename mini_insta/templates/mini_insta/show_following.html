<!-- 
File: show_following.html
Description: Template for displaying all profiles that this profile is following
-->

{% extends 'mini_insta/base.html' %}

{% block content %}
<div style="max-width: 800px; margin: 2rem auto;">
  <h2>{{ profile.display_name }} (@{{ profile.username }}) is Following</h2>
  
  <p>
    <a href="{% url 'mini_insta:show_profile' profile.pk %}">‚Üê Back to Profile</a>
  </p>

  {% with following=profile.get_following %}
    {% if following %}
      <p><strong>{{ profile.get_num_following }} Following</strong></p>
      
      <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
        {% for followed_profile in following %}
          <div style="border: 1px solid #eee; padding: 1rem; border-radius: 8px; 
                      display: flex; align-items: center; gap: 1rem;">
            {% if followed_profile.profile_image_url %}
              <img src="{{ followed_profile.profile_image_url }}" alt="{{ followed_profile.username }}"
                   style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;">
            {% else %}
              <div style="width: 60px; height: 60px; border-radius: 50%; background: #ddd;
                          display: flex; align-items: center; justify-content: center;">
                üë§
              </div>
            {% endif %}
            
            <div style="flex: 1;">
              <a href="{% url 'mini_insta:show_profile' followed_profile.pk %}" 
                 style="font-weight: bold; text-decoration: none; color: #007bff;">
                {{ followed_profile.display_name }}
              </a>
              <p style="margin: 0; color: #666;">@{{ followed_profile.username }}</p>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p style="color: #888; margin-top: 1rem;">Not following anyone yet.</p>
    {% endif %}
  {% endwith %}
</div>
{% endblock %}