<!-- 
File: show_followers.html
Description: Template for displaying all followers of a profile
-->

{% extends 'mini_insta/base.html' %}

{% block content %}
<div style="max-width: 800px; margin: 2rem auto;">
  <h2>Followers of {{ profile.display_name }} (@{{ profile.username }})</h2>
  
  <p>
    <a href="{% url 'mini_insta:show_profile' profile.pk %}">‚Üê Back to Profile</a>
  </p>

  {% with followers=profile.get_followers %}
    {% if followers %}
      <p><strong>{{ profile.get_num_followers }} Follower{{ profile.get_num_followers|pluralize }}</strong></p>
      
      <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
        {% for follower in followers %}
          <div style="border: 1px solid #eee; padding: 1rem; border-radius: 8px; 
                      display: flex; align-items: center; gap: 1rem;">
            {% if follower.profile_image_url %}
              <img src="{{ follower.profile_image_url }}" alt="{{ follower.username }}"
                   style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;">
            {% else %}
              <div style="width: 60px; height: 60px; border-radius: 50%; background: #ddd;
                          display: flex; align-items: center; justify-content: center;">
                üë§
              </div>
            {% endif %}
            
            <div style="flex: 1;">
              <a href="{% url 'mini_insta:show_profile' follower.pk %}" 
                 style="font-weight: bold; text-decoration: none; color: #007bff;">
                {{ follower.display_name }}
              </a>
              <p style="margin: 0; color: #666;">@{{ follower.username }}</p>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p style="color: #888; margin-top: 1rem;">No followers yet.</p>
    {% endif %}
  {% endwith %}
</div>
{% endblock %}